# レポジトリ

## PyPIレポジトリの使用

デフォルトでは、Poetryはパッケージのインストールと公開に [PyPI](https://pypi.org) レポジトリを使うよう設定されます。

そのため、プロジェクトに依存関係を追加すると、PoetryはそれがPyPIで利用可能だと仮定します。

これはほとんどの場合に当たり、ほとんどのユーザーにとって十分なようです。


## プライベートレポジトリの使用

しかし、あるときは、チームメイトには共有可能にしつつ、パッケージを非公開のままにする必要があるかもしれません。
その場合、プライベートレポジトリを使う必要があります。

### レポジトリの追加

レポジトリの追加は `config` コマンドを使うと簡単です。

```bash
poetry config repositories.foo https://foo.bar/simple/
```

このコマンドは、レポジトリ `foo` のURLを `https://foo.bar/simple/` に設定します。

### 認証情報の設定

もし特定のレポジトリの認証情報を保存したいなら、次のように簡単にできます:

```bash
poetry config http-basic.foo username password
```

パスワードを指定しなかった場合は、パスワードを書くように促されます。

!!!note

    PyPIへ公開するために、 `pypi` という名前のレポジトリの認証情報を
    設定できます:

    ```bash
    poetry config http-basic.pypi username password
    ```

`pyblish` コマンドを使うときに `--username` オプションと `--password`
オプションを付けて、ユーザー名とパスワードを指定することもできます。

### プライベートレポジトリからの依存関係インストール

プライベートレポジトリへの公開ができようになったので、そこから依存関係をインストールできるようにする必要があります。

そのためには、 `pyproject.toml` ファイルを次のように編集する必要があります

```toml
[[tool.poetry.source]]
name = "foo"
url = "https://foo.bar/simple/"
```

今後は、Poetryはプライベートレポジトリのパッケージも検索します。

プライベートレポジトリがHTTP Basic認証を要求する場合、上の例を使って、忘れずにユーザー名とパスワードを `http-basic`
設定に追加してください (`tool.poetry.source` セクションにある名前と同じものを使うのも忘れないでください)。
Poetryは、パッケージのダウンロードや検索をするときに、これらの値をプライベートレポジトリに対する認証に使います。
